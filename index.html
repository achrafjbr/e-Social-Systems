<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="css/style.css" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <title>E-Social System</title>

  <style>
    input {
      background-color: white;
    }

    .screen {
      display: none;
    }

    .screen.activated {
      display: block;
    }

    .tab {
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .tab.activated {
      background-color: rgb(235, 232, 232);
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      border: 1px solid #ffffff;
      width: fit-content;
    }

    .tab.activated .title {
      color: #2563eb;
    }
  </style>
</head>

<body>
  <div class="app">
    <div class="header flex flex-row justify-between items-center p-4 border-b-[1px] shadow-md">
      <div>
        <h1 class="logo">LOGO</h1>
      </div>

      <!-- Tabs Navigation -->
      <div class="tabs flex space-x-1  p-1 rounded-lg gap-6">
        <div class="tab 0 activated flex items-center space-x-2 px-4 py-3 rounded-md ">
          <img src="./images/icons/employeurs.png" class="icon w-5 h-5" alt="" />
          <p class="title text-sm font-medium text-blue-600">Employeurs</p>
          <p></p>
        </div>
        <div class="tab 1 flex items-center space-x-2 px-4 py-3 rounded-md  transition-colors">
          <img src="./images/icons/employés.png" class="icon w-5 h-5" alt="" />
          <p class="title text-sm font-medium text-gray-700">Employés</p>
        </div>
        <div class="tab 2 flex items-center space-x-2 px-4 py-3 rounded-md  transition-colors">
          <img src="./images/icons/declaration.png" class="icon w-5 h-5" alt="" />
          <p class="title text-sm font-medium text-gray-700">Declaration</p>
        </div>
        <div class="tab 3 flex items-center space-x-2 px-4 py-3 rounded-md   transition-colors">
          <img src="./images/icons/calculateur.png" class="icon w-5 h-5" alt="" />
          <p class="title text-sm font-medium text-gray-700">Calculation</p>
        </div>
        <div class="tab 4 flex items-center space-x-2 px-4 py-3 rounded-md   transition-colors">
          <img src="./images/icons/statistiques.png" class="icon w-5 h-5" alt="" />
          <p class="title text-sm font-medium text-gray-700">Statistiques</p>
        </div>
        <div class="tab 5 flex items-center space-x-2 px-4 py-3 rounded-md   transition-colors">
          <img src="./images/icons/historique.png" class="icon w-5 h-5" alt="" />
          <p class="title text-sm font-medium text-gray-700">Historique</p>
        </div>
        <div class="tab 6 flex items-center space-x-2 px-4 py-3 rounded-md   transition-colors">
          <img src="./images/icons/Anomalies.png" class="icon w-5 h-5" alt="" />
          <p class="title text-sm font-medium text-gray-700">Anomalies</p>
        </div>
      </div>
    </div>

    <div class="screens">
      <!-- Tab 0: Employeurs -->
      <div class="screen employeur activated">
        <!-- section form start -->
        <div class="employeur">
          <div class="left">
            <form>
              <h2 class="form-title">Employeurs</h2>
              <div class="formulaire">
                <label>Employeur</label>
                <input id="employeur" type="text" />
              </div>
              <div class="formulaire">
                <label>Sociale</label>
                <input id="employeur" type="text" />
              </div>
              <div class="formulaire">
                <label>Secteur</label>
                <input id="employeur" type="text" />
              </div>
              <div>
                <button class="btn" type="submit">Entrer</button>
              </div>
            </form>
          </div>
          <!-- section form ends -->
          <!-- section table start -->
          <div class="right">
            <h2 class="table-title">Liste Des Employeurs</h2>
            <div>
              <table>
                <thead>
                  <tr>
                    <th>Employeur</th>
                    <th>Raison Sociale</th>
                    <th>Secteur</th>
                    <th>Employes</th>
                    <th>Actions</th>
                  </tr>
                </thead>
              </table>
            </div>
          </div>
        </div>
        <!-- section table ends -->
      </div>

      <!-- Tab 1: Employés -->
      <div class="screen assures">
        <!--employee start-->
        <div class="parte1">
          <h1>Gestion des Employees</h1>
          <div class="serchelement">
            <i class="fa-solid fa-magnifying-glass search-icon"></i><input type="text" class="insearch"
              placeholder="Search...">
          </div>
        </div>
        <div class="Employees">
          <div>
            <form class="Ajoute">
              <h2>Ajoute un assuré </h2>

              <label>Nom</label><input type="text" id="Nom">
              <label>Salaire</label><input type="number" id="Salaire">
              <label>Employer</label>

              <select id="Employer">

                <!-- <option value=""></option>
              <option value="société">société privée</option>
              <option value="administration">administration publique</option>
              <option value="collectivité">collectivité territoriale</option> -->
              </select>

              <button id="Ajouter" type="button">Ajouter </button>
            </form>
          </div>

          <div class="max-h-80 overflow-y-auto border rounded-lg" >

              <table class="table ">
                <tr class="hedertab">
                  <th>Nom</th>
                  <th>Salaire</th>
                  <th>Employer</th>
                </tr>

                <tbody id="tbody">
                </tbody>

              </table>
          </div>

        </div>
      </div>
      <!--end employee-->

      <!-- Tab 2: Declaration -->
      <div class="screen declaration">
        <!-- Pop-up for declaration: when the user declare two times in the same month the popup will trigger -->
        <div class="pop_up hidden failur">
          <h1 class="message"></h1>
        </div>
        <h4 class="title">Déclaration mensuelle des salaires</h4>
        <div class="content">
          <div class="left-part">
            <p class="content_title">Nouvelle déclaration</p>
            <form id="declaration_form">
              <div class="employeur-selection">
                <h5>Employeur</h5>
                <select name="employeur" id="employeur-selection"></select>
              </div>
              <div class="mois_date">
                <h5>Mois/Année</h5>
                <input type="date" name="" id="annee-mois" />
              </div>
              <div class="declaration_date">
                <h5>Date de déclaration</h5>
                <input type="date" name="" id="declaration-date" />
              </div>
              <div class="save_employeur">
                <span class="btn_icon"><img src="./images/icons/submit.png" alt="" /></span>
                <span>
                  <h6>Soumettre la déclaration</h6>
                </span>
              </div>
            </form>
          </div>
          <div class="right-part">
            <p class="content_title">Historique des déclarations</p>
            <table class="employeur_table_data">
              <tr>
                <th>Employeur</th>
                <th>Mois/Année</th>
                <th>Date déclaration</th>
                <th>Penality</th>
                <th>Total à payer</th>
              </tr>
              <tr>
                <td>Tech Solutions SA</td>
                <td>2023-10</td>
                <td>2023-10-15</td>
                <td>0.6</td>
                <td>1260 DH</td>
              </tr>
            </table>
          </div>
        </div>
      </div>

      <!-- Tab 3: Calculateur -->
      <div class="screen calculateur">
        <h1>List de calculateur</h1>
        <div class="table-wrapper">
          <table id="cotisationsTable">
            <thead>
              <tr>
                <th>ID</th>
                <th>Nom Employeur</th>
                <th>Total Salaires Bruts (DH)</th>
                <th>Total Cotisations Salariales (DH)</th>
                <th>Total Cotisations Patronales (DH)</th>
                <th>Pénalités (DH)</th>
                <th>Montant Final (DH)</th>
              </tr>
            </thead>
          </table>
        </div>
      </div>

      <!-- Tab 4: Statistiques -->
      <div class="screen statistique">
        <!--  start statistiques -->
        <div class="flex flex-col">
          <h1 class="font-bold mb-4 text-2xl">Statistiques globales</h1>
          <div class="flex flex-row justify-center items-center">
            <div class="flex flex-wrap gap-6">
              <!-- start statistique card -->
              <div
                class="flex flex-row bg-white border-[1px] rounded-lg h-24 w-64 gap-6 justify-center transition-all duration-300 ease-out hover:-translate-y-2 hover:shadow-lg shadow-md ">
                <div class="flex flex-row gap-2 mt-4">
                  <div class="bg-blue-100 w-10 h-14 rounded-md flex items-center justify-center">
                    <i class="ri-community-line text-3xl text-blue-700"></i>
                  </div>
                  <div class="ml-5">
                    <p class="text-gray-500">Employeur energistree</p>
                    <p id="EmpEnergCount">0</p>
                  </div>
                </div>
              </div>
              <div
                class="flex flex-row bg-white border-[1px] rounded-lg h-24 w-64 gap-6 justify-center transition-all duration-300 ease-out hover:-translate-y-2 hover:shadow-lg shadow-md">
                <div class="flex flex-row gap-2 mt-4">
                  <div class="bg-green-100 w-14 h-14 rounded-md flex items-center justify-center">
                    <i class="ri-team-fill text-2xl text-green-700"></i>
                  </div>
                  <div class="ml-5">
                    <p class="text-gray-500">Assurés enregistrés</p>
                    <p id="employeesCount">0</p>
                  </div>
                </div>
              </div>
              <div
                class="flex flex-row bg-white border-[1px] rounded-lg h-24 w-64 gap-6 justify-center transition-all duration-300 ease-out hover:-translate-y-2 hover:shadow-lg shadow-md">
                <div class="flex flex-row gap-2 mt-4">
                  <div class="bg-purple-100 w-10 h-14 rounded-md flex items-center justify-center">
                    <i class="ri-coins-line text-3xl text-purple-700"></i>
                  </div>
                  <div class="ml-5">
                    <p class="text-gray-500">Cotisations totales</p>
                    <p id="Cotisationstotales">0</p>
                  </div>
                </div>
              </div>
              <div
                class="flex flex-row bg-white border-[1px] rounded-lg h-24 w-64 gap-6 justify-center transition-all duration-300 ease-out hover:-translate-y-2 hover:shadow-lg shadow-md">
                <div class="flex flex-row gap-2 mt-4">
                  <div class="bg-yellow-100 w-10 h-14 rounded-md flex items-center justify-center">
                    <i class="ri-line-chart-line text-3xl text-yellow-700"></i>
                  </div>
                  <div class="ml-5">
                    <p class="text-gray-500">Salaire moyen</p>
                    <p id="SalaireMoyen">0</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="flex flex-wrap mt-4 max-h-60 ml-4">
            <div class="p-4 max-h-80 overflow-auto no-scrollbar w-[550px] border-[1px] rounded-lg shadow-md ml-7">
              <h2 class="font-bold mb-2 text-xl">employeurs cotisations est total employés</h2>
              <div id="RepartitionContent">
                <h1>No data </h1>
              </div>
            </div>
            <div
              class="p-4 shadow-md max-h-80 overflow-auto no-scrollbar w-[550px] border-[1px] rounded-lg shadow-md ml-1">
              <div id="evolution_content">
                <h2 class="font-bold mb-2 text-xl">Déclarations récentes</h2>
                <div id="DeclarationRec">
                  <h1>No data</h1>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>


      <div class="screen">
        <h1>Historique Content</h1>
        <p>This is the historique tab content</p>
      </div>

      <!-- Tab 6: Anomalies (empty for now) -->
      <div class="screen">
        <h1>Anomalies Content</h1>
        <p>This is the anomalies tab content</p>
      </div>
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        // Get all tabs
        const tabs = document.querySelectorAll('.tab');
        // Get all screens
        const screens = document.querySelectorAll('.screen');

        // Function to switch tabs
        function switchTab(tabIndex) {
          // Remove 'activated' class from all tabs
          tabs.forEach(tab => {
            tab.classList.remove('activated');
            const title = tab.querySelector('.title');
            if (title) {
              title.classList.remove('text-blue-600');
              title.classList.add('text-gray-700');
            }
          });

          // Add 'activated' class to clicked tab
          const activeTab = document.querySelector(`.tab.${tabIndex}`);
          if (activeTab) {
            activeTab.classList.add('activated');
            const title = activeTab.querySelector('.title');
            if (title) {
              title.classList.remove('text-gray-700');
              title.classList.add('text-blue-600');
            }
          }

          // Hide all screens
          screens.forEach(screen => {
            screen.classList.remove('activated');
          });

          // Show the corresponding screen
          const activeScreen = screens[tabIndex];
          if (activeScreen) {
            activeScreen.classList.add('activated');
          }
        }

        // Add click event to each tab
        tabs.forEach((tab, index) => {
          tab.addEventListener('click', () => {
            switchTab(index);
          });
        });

        // Initialize with first tab active
        switchTab(0);
      });
    </script>

    <script src="js/app.js" type="module"></script>
    <script src="js/statistiques.js" type="module"></script>
    <script src="js/data.js" type="module"></script>
    <script src="./js/classes/declaration.js" type="module"></script>
    <script src="./js/classes/cotisations.js"></script>
    <script src="js/Employeur.js" type="module"></script>
    <script src="js/classes/employee.js" type="module"></script>
    <!-- <script src="js/seed.js"></script> -->


</body>

</html>